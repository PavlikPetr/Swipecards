buildscript {
     repositories {
         mavenCentral()
     }
     dependencies {
         classpath 'com.android.tools.build:gradle:0.5.+'
     }
}

repositories {
    mavenCentral()
}

subprojects {
	buildDir "../../build/projects/$project.name"
}

apply plugin: 'android'

dependencies {
	//Android Support libs
	compile 'com.android.support:support-v4:18.0.0'
	compile 'com.android.support:appcompat-v7:18.0.0'

    //All jar libs
    compile fileTree(dir: 'libs', include: '*.jar', exclude: 'GoogleAdMobAdsSdk.jar')

    //Topface sub libs
    compile project(':libs:IllustratedTextView')

    //Third party libs
    compile 'ch.acra:acra:4.5.0'
    compile project(':libs:Android-ViewPagerIndicator')
    compile project(':libs:PullToRefresh')
    compile project(':libs:SlidingMenu')
    compile project(':libs:PhotoView')
    compile project(':libs:UniversalImageLoader')

    //Social networks SDK
    compile project(':libs:Facebook')
    compile project(':libs:odnoklassniki')

    //Ad networks SDK
    compile project(':libs:WapStart')
    compile project(':libs:MoPub')

}

android {
    compileSdkVersion "Google Inc.:Google APIs:17"
    buildToolsVersion "18.0.1"

    defaultConfig {
        minSdkVersion 7
        targetSdkVersion 17
    }
}

project(':libs:IllustratedTextView') {
    apply plugin: 'android-library'

    android {
    	compileSdkVersion "Google Inc.:Google APIs:17"
    	buildToolsVersion "18.0.1"

	    sourceSets {
	        main {
	            manifest.srcFile 'AndroidManifest.xml'
	            java.srcDirs = ['src']
	            res.srcDirs = ['res']
	        }

	    }
	}
}

project(':libs:Android-ViewPagerIndicator') {
    apply plugin: 'android-library'

    dependencies {
	    compile 'com.android.support:support-v4:18.0.0'
	    compile project(':libs:IllustratedTextView')
	}

    android {
    	compileSdkVersion "Google Inc.:Google APIs:17"
    	buildToolsVersion "18.0.1"

	    sourceSets {
	        main {
	            manifest.srcFile 'library/AndroidManifest.xml'
	            java.srcDirs = ['library/src']
	            res.srcDirs = ['library/res']
	        }

	    }
	}
}

project(':libs:PullToRefresh') {
    apply plugin: 'android-library'

    android {
    	compileSdkVersion "Google Inc.:Google APIs:17"
    	buildToolsVersion "18.0.1"

	    sourceSets {
	        main {
	            manifest.srcFile 'library/AndroidManifest.xml'
	            java.srcDirs = ['library/src']
	            res.srcDirs = ['library/res']
	        }

	    }
	}
}

project(':libs:SlidingMenu') {
    apply plugin: 'android-library'

    dependencies.compile 'com.android.support:support-v4:18.0.0'

    android {
    	compileSdkVersion "Google Inc.:Google APIs:17"
    	buildToolsVersion "18.0.1"

	    sourceSets {
	        main {
	            manifest.srcFile 'library/AndroidManifest.xml'
	            java.srcDirs = ['library/src']
	            res.srcDirs = ['library/res']
	        }

	    }
	}
}

project(':libs:PhotoView') {
    apply plugin: 'android-library'

    android {
    	compileSdkVersion "Google Inc.:Google APIs:17"
    	buildToolsVersion "18.0.1"

	    sourceSets {
	        main {
	            manifest.srcFile 'library/AndroidManifest.xml'
	            java.srcDirs = ['library/src']
	            res.srcDirs = ['library/res']
	        }

	    }
	}
}

project(':libs:UniversalImageLoader') {
    apply plugin: 'android-library'

    android {
    	compileSdkVersion "Google Inc.:Google APIs:17"
    	buildToolsVersion "18.0.1"

	    sourceSets {
	        main {
	            manifest.srcFile 'library/AndroidManifest.xml'
	            java.srcDirs = ['library/src']
	            res.srcDirs = ['library/res']
	        }

	    }
	}
}

//Social networks 
project(':libs:Facebook') {
    apply plugin: 'android-library'

    android {
    	compileSdkVersion "Google Inc.:Google APIs:17"
    	buildToolsVersion "18.0.1"

	    sourceSets {
	        main {
	            manifest.srcFile 'facebook/AndroidManifest.xml'
	            java.srcDirs = ['facebook/src']
	            res.srcDirs = ['facebook/res']
	        }

	    }
	}
}

project(':libs:odnoklassniki') {
    apply plugin: 'android-library'

    android {
    	compileSdkVersion "Google Inc.:Google APIs:17"
    	buildToolsVersion "18.0.1"

	    sourceSets {
	        main {
	            manifest.srcFile 'AndroidManifest.xml'
	            java.srcDirs = ['src']
	            res.srcDirs = ['res']
	        }

	    }
	}
}

//Ad networks
project(':libs:WapStart') {
    apply plugin: 'android-library'
    android {
    	compileSdkVersion "Google Inc.:Google APIs:17"
    	buildToolsVersion "18.0.1"
	    sourceSets.main {
	            manifest.srcFile 'sdk/AndroidManifest.xml'
	            java.srcDirs = ['sdk/src']
	            res.srcDirs = ['sdk/res']
	    }
	}
}

project(':libs:MoPub') {
    apply plugin: 'android-library'
    dependencies {
    	compile 'com.android.support:support-v4:18.0.0'
    	compile files('../GoogleAdMobAdsSdk.jar')
        compile fileTree(dir: '../mopub-libs', include: '*.jar')
    }
    android {
    	compileSdkVersion "Google Inc.:Google APIs:17"
    	buildToolsVersion "18.0.1"
	    sourceSets.main {
	            manifest.srcFile 'mopub-sdk/AndroidManifest.xml'
	            java.srcDirs = ['mopub-sdk/src/main/java']
	            res.srcDirs = ['mopub-sdk/res']
	    }
	}
}
